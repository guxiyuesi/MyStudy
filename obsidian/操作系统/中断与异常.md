## 中断

中断是操作系统从用户态转为内核态的唯一方式, 中断发生时系统内核会强行夺取CPU控制权

用户态与内核态: [[操作系统的运行机制#内核态 vs 用户态|内核态 vs 用户态]]

### 中断的分类

#### 内中断
与当前执行的指令有关, 中断信号由CPU内部发出

内终端的产生:
1. 陷入指令   用户态想要调用内核态的指令时, 会使用该指令引起中断 即[[系统调用]]
2. 故障   由错误条件引起的, 内核程序可能修复. 内核程序修复后, 会将控制权重新交给用户态程序. 如: 缺页故障
3. 终止.  由致命错误引起, 操作系统无法修复, 一般直接终止引起问题的用户程序, 如:参数问题, 在用户态下执行特权指令等 ^e39e1c

内中断又称异常, 例外

#### 外中断
与当前执行的指令无关, 中断信号由CPU外部发出

外中断的产生:
1. 时钟中断 <br>当一个进程执行50ms以后, 发出时钟中断, 执行时钟中断处理程序, 让另一个进程执行50ms
2. I/O中断<br>当完成输入输出后, 设备会发出I/O中断, 以告诉系统输入输出以完成, 经由I/O中断处理程序处理后继续向下执行

外中断的存在让并发成为可能.

外中断也可简称为中断.<br>
狭义的来说, 中断一般指外中断, 内中断一般用异常代替.

